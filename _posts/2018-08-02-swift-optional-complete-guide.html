---
layout: post
title: "Swift Optional Types-Complete Guide"
date: 2018-08-02
categories: [iOS, swift]
tags: [programming, swift, iOS]
---

<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Swift Optional Types-Complete Guide</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Swift Optional Types-Complete Guide</h1>
</header>
<section data-field="subtitle" class="p-summary">
Swift Optionals
</section>
<section data-field="description" class="p-summary">
This post is all about understanding the optional types in Swift. This post will tell you why we need them at first place and what we used to do in Objective C in place of Optionals. We will be using…
</section>
<section data-field="body" class="e-content">
<section name="1c81" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><ul class="postList"><li name="1c24" id="1c24" class="graf graf--li graf--leading graf--trailing"><strong class="markup--strong markup--li-strong">Swift Optional Types-Complete Guide</strong></li></ul></div></div></section><section name="de4c" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><figure name="524c" id="524c" class="graf graf--figure graf--leading"><img class="graf-image" data-image-id="1*ePoF2imvQpvI6dvDG_OnAw.png" data-width="2000" data-height="1800" src="https://cdn-images-1.medium.com/max/800/1*ePoF2imvQpvI6dvDG_OnAw.png"></figure><h2 name="b234" id="b234" class="graf graf--h2 graf-after--figure">Motive</h2><p name="c682" id="c682" class="graf graf--p graf-after--h2">This post is all about understanding the optional types in Swift. This post will tell you why we need them in the first place and what we used to do in Objective C in place of Optionals. We will be using Swift 4.2 and playground to understand the optionals. At last, you will have a clear idea on why Optionals are valuable to programming and of-course programmers.</p><h2 name="de9f" id="de9f" class="graf graf--h2 graf-after--p">Optionals?</h2><p name="443a" id="443a" class="graf graf--p graf-after--h2">How does swift declare them?</p><p name="7f0b" id="7f0b" class="graf graf--p graf-after--p">This is the declaration of the optional type as a powerful enum</p><p name="9eab" id="9eab" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code u-paddingRight0 u-marginRight0">enum Optional&lt;Wrapped&gt; : <a href="//hsdxja56nu" data-href="//hsdxja56nu" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ExpressibleByNilLiteral</a></code></p><p name="bbe4" id="bbe4" class="graf graf--p graf-after--p">An optional type is enum type which can have one of the two possible values, <strong class="markup--strong markup--p-strong">None</strong> and <strong class="markup--strong markup--p-strong">Some(T), </strong>where T is an associated value of the data type in Swift</p><p name="d681" id="d681" class="graf graf--p graf-after--p">Swift introduces <strong class="markup--strong markup--p-strong">Optionals</strong> type which holds a value or nothing. Optionals say either “there is a value, and it equals x” or “there isn’t a value at all”</p><p name="4b03" id="4b03" class="graf graf--p graf-after--p">In simple words, if you want a variable to hold some value when there is value and nothing in case of no value, then you must declare a variable optional type. In case of no value, optional types will have nil value inside it.</p><h2 name="808f" id="808f" class="graf graf--h2 graf-after--p">Why Optionals?</h2><p name="080f" id="080f" class="graf graf--p graf-after--h2">Let’s take an example of an objective C code</p><pre name="5ac7" id="5ac7" class="graf graf--pre graf-after--p">- (NSString *)computerName:(NSString *)computerId {<br>    if ([computerId isEqualToString:@&quot;Apple1234&quot;]) {<br>        return @&quot;Apple&quot;;<br>    } else if ([computerId isEqualToString:@&quot;Dell1234&quot;]) {<br>     return @&quot;Dell&quot;;<br>    }<br>  return nil;<br>}</pre><p name="9013" id="9013" class="graf graf--p graf-after--pre">You can use the computerName method to get the Computer Provider for a particular computer Id. As of now, this method returns value for the two cases and nil for others.</p><pre name="ff51" id="ff51" class="graf graf--pre graf-after--p">NSString *computerName = [self computerName:@&quot;Lenovo1234&quot;]; // nil is returned<br>NSString *preString = @&quot;Computer Name - &quot;;<br>NSString *message = [preString stringByAppendingString:computerName]; // runtime error<br>NSLog(@&quot;%@&quot;, message);</pre><p name="100d" id="100d" class="graf graf--p graf-after--pre">This code compiles properly and but during runtime, it causes Run time exception while running the app. This is the downside of this approach. How do we solve this problem using Optionals? Let’s see</p><pre name="c1cc" id="c1cc" class="graf graf--pre graf-after--p">func computerName(computerId: String) -&gt; String? {<br>   if (computerId == &quot;Apple1234&quot;) {<br>      return &quot;Apple&quot;<br>   } else if (computerId == &quot;Dell1234&quot;) {<br>      return &quot;Dell&quot;<br>   }<br> return nil<br>}</pre><pre name="410f" id="410f" class="graf graf--pre graf-after--pre">var computerName:String? = computerName(&quot;Lenovo1234&quot;)<br>let text = &quot;Computer Name - &quot;<br>if(computerName){<br>let message = text + computerName <br>print(message)<br>}<br>Output:</pre><p name="a95b" id="a95b" class="graf graf--p graf-after--pre">As you can see, if the computerName is having a value other than nil, the message gets printed. This is the power of optionals.</p><h2 name="6f0d" id="6f0d" class="graf graf--h2 graf-after--p">How to Declare?</h2><p name="aed7" id="aed7" class="graf graf--p graf-after--h2">Swift allows two keywords to declare a type as optionals.</p><p name="b399" id="b399" class="graf graf--p graf-after--p"><em class="markup--em markup--p-em">Using Optional Keyword</em></p><pre name="3e3a" id="3e3a" class="graf graf--pre graf-after--p">let lastName: Optional&lt;String&gt; = &quot;Jain&quot;</pre><p name="d8ae" id="d8ae" class="graf graf--p graf-after--pre"><em class="markup--em markup--p-em">Using ? Symbol</em></p><p name="76ec" id="76ec" class="graf graf--p graf-after--p">Swift offers another simple and short way to declare a type as an optional type using ? symbol.</p><pre name="9035" id="9035" class="graf graf--pre graf-after--p">let lastName: String? = &quot;Jain&quot;</pre><p name="e98e" id="e98e" class="graf graf--p graf-after--pre">All types of Swift objects and primitive types can be declared as optionals.</p><pre name="47b5" id="47b5" class="graf graf--pre graf-after--p">let shortForm: Int? = Int(&quot;42&quot;)</pre><h2 name="f68c" id="f68c" class="graf graf--h2 graf-after--pre">Our Custom Like Optional Type:</h2><p name="834c" id="834c" class="graf graf--p graf-after--h2">Let&#39;s try to make our custom Optional Type which will work the same way as Swift Optionals. This is to understand the internal implementation of enums.</p><p name="88ee" id="88ee" class="graf graf--p graf-after--p">Let&#39;s name this custom optional type as CustomOptional.</p><blockquote name="9764" id="9764" class="graf graf--blockquote graf-after--p">enum <strong class="markup--strong markup--blockquote-strong">CustomOptional</strong>&lt;Wrapped&gt; {<br>/// The absence of a value.<br>case <strong class="markup--strong markup--blockquote-strong">none</strong><br>/// The presence of a value, stored as `Wrapped`.<br>case <strong class="markup--strong markup--blockquote-strong">some</strong>(Wrapped)<br>}</blockquote><blockquote name="b5b6" id="b5b6" class="graf graf--blockquote graf-after--blockquote">var str: CustomOptional&lt;String&gt; = CustomOptional.some(“ghg”)</blockquote><blockquote name="c0ec" id="c0ec" class="graf graf--blockquote graf-after--blockquote">print(<strong class="markup--strong markup--blockquote-strong">str</strong>)</blockquote><blockquote name="e900" id="e900" class="graf graf--blockquote graf-after--blockquote">str = <strong class="markup--strong markup--blockquote-strong">CustomOptional</strong>.<strong class="markup--strong markup--blockquote-strong">none</strong></blockquote><blockquote name="ed30" id="ed30" class="graf graf--blockquote graf-after--blockquote">print(str)</blockquote><blockquote name="91e1" id="91e1" class="graf graf--blockquote graf-after--blockquote">Output: <strong class="markup--strong markup--blockquote-strong">some(“ghg”)</strong></blockquote><blockquote name="7c39" id="7c39" class="graf graf--blockquote graf-after--blockquote">Output: <strong class="markup--strong markup--blockquote-strong">none</strong></blockquote><p name="0969" id="0969" class="graf graf--p graf-after--blockquote">Here we can see that CustomOptional&lt;String&gt; is the same as Optional&lt;String&gt;. But swift compiler has syntactic linking of CustomOptional&lt;String&gt; to be declared as String? otherwise, everything is the same.</p><h2 name="dbd7" id="dbd7" class="graf graf--h2 graf-after--p">How to use Optionals?</h2><p name="390e" id="390e" class="graf graf--p graf-after--h2">Just like declaring, using optionals and getting value back from them is a little tricky here.</p><p name="ecd8" id="ecd8" class="graf graf--p graf-after--p">For getting the values back from optionals you have to unwrap the value. You unwrap values by using the following methods.</p><p name="6e4d" id="6e4d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Unwrapping by Forced Unwrapping</em></strong></p><p name="0945" id="0945" class="graf graf--p graf-after--p">To get the value back using forced unwrapping you just have to use the ! on the optional type. Example below:</p><p name="69a7" id="69a7" class="graf graf--p graf-after--p">First, we will try to print the value as it is.</p><pre name="f1a3" id="f1a3" class="graf graf--pre graf-after--p">print(lastName)<br>Output: Optional(&quot;Jain&quot;)</pre><p name="8403" id="8403" class="graf graf--p graf-after--pre">So here we get the value with the optional wrapper. You can’t directly use it in the programme. Here comes the unwrapping part</p><p name="63f4" id="63f4" class="graf graf--p graf-after--p">Here we are unwrapping lastName which we declared in the previous section</p><pre name="7e20" id="7e20" class="graf graf--pre graf-after--p">print(lastName!)<br>Output: Jain</pre><p name="d9f3" id="d9f3" class="graf graf--p graf-after--pre">Yes, it is that simple! :) But there is catch here, the downside of this approach is that your app will crash when you try to force unwrap an optional which is having a nil value. In simple words, unwrapping nil causes the <strong class="markup--strong markup--p-strong">crash. </strong>An easy and first approach would just use the if else condition for the nil check before using, same like what we have been doing in objective C.</p><pre name="27fb" id="27fb" class="graf graf--pre graf-after--p">if lastName != nil{<br>print(lastName!)<br>}<br>Output: Jain</pre><p name="569f" id="569f" class="graf graf--p graf-after--pre">Swift offers a better and a beautiful approach for safely unwrapping an optional type by Optional Binding.</p><p name="67af" id="67af" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Unwrapping by Optional Binding</em></strong></p><p name="af73" id="af73" class="graf graf--p graf-after--p">Use optional binding to find out whether an optional type contains a value, and if so, to make that value available as a temporary constant or variable.</p><p name="a672" id="a672" class="graf graf--p graf-after--p">See the example below -</p><pre name="09b0" id="09b0" class="graf graf--pre graf-after--p">if let tempLastName = lastName{<br>    print(tempLastName)<br>}<br>Output: Jain</pre><p name="52b1" id="52b1" class="graf graf--p graf-after--pre">Quite better, isn’t? The only downside of this approach is that this tempLastName is only accessible inside the if block, outside of this block you still don’t have a solution yet. Here come the guard statements for help. Let see how these work.</p><p name="933e" id="933e" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Unwrapping by Guard Statements</em></strong></p><p name="3c71" id="3c71" class="graf graf--p graf-after--p">Using guard statements, you can unwrap an optional type for full method scope if there is a value inside the optional, if not then application returns the method.</p><pre name="27ef" id="27ef" class="graf graf--pre graf-after--p">guard if let tempLastName = lastName else {<br>//Do all the required work<br>return;<br>}<br>print(tempLastName)<br>Output: Jain</pre><p name="c4a2" id="c4a2" class="graf graf--p graf-after--pre">Here you can use tempLastName in the whole method body if there is a value inside the lastName. But if there is nil inside it, it actually breaks the function scope and app has to return that method. Before returning, you must do all the finishing work inside the else block of guard statement.</p><h2 name="8ff4" id="8ff4" class="graf graf--h2 graf-after--p">Optional Chaining</h2><p name="5aeb" id="5aeb" class="graf graf--p graf-after--h2">Before explaining optional chaining, we create a new class named Address with streetName, cityName, and stateName properties, and then we create another class Person which is having an address (optional) as it’s property. Now look at this example</p><pre name="839c" id="839c" class="graf graf--pre graf-after--p">public class Address{<br>    var streetName: String;<br>    var cityName: String;<br>    var stateName: String;<br>    init(streetName: String, cityName: String, stateName: String) {<br>        self.streetName = streetName<br>        self.stateName = stateName<br>        self.cityName = cityName<br>    }<br>}</pre><pre name="e242" id="e242" class="graf graf--pre graf-after--pre">class Person{<br> var address :Address?<br>  }</pre><pre name="9039" id="9039" class="graf graf--pre graf-after--pre">var person = Person()<br>person.address = nil</pre><figure name="74fc" id="74fc" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="0*dUZlMNFcclN14zTE.png" data-width="2000" data-height="149" src="https://cdn-images-1.medium.com/max/800/0*dUZlMNFcclN14zTE.png"></figure><p name="b8c5" id="b8c5" class="graf graf--p graf-after--figure">As you can see, it causes run time error as you try to get the value by forced unwrapping. Let’s see how we can resolve this problem using Optional Chaining.</p><pre name="06e6" id="06e6" class="graf graf--pre graf-after--p">public class Address{<br> var streetName: String;<br>    var cityName: String;<br>    var stateName: String;<br>    init(streetName: String, cityName: String, stateName: String) {<br>        self.streetName = streetName<br>    self.stateName = stateName<br>        self.cityName = cityName<br>    }<br>}</pre><pre name="6283" id="6283" class="graf graf--pre graf-after--pre">class Person{<br>var address :Address?<br>}</pre><pre name="17bd" id="17bd" class="graf graf--pre graf-after--pre">var person = Person()<br>person.address = nil</pre><pre name="c8d7" id="c8d7" class="graf graf--pre graf-after--pre">if let streetName = person.address?.streetName{<br>  print(streetName)<br>}</pre><pre name="10d9" id="10d9" class="graf graf--pre graf-after--pre">Output:</pre><p name="16b8" id="16b8" class="graf graf--p graf-after--pre">Instead of using the streetName directly on the forced unwrapped optional we use chaining and use ? on the address and get the value with optional binding. In this case, if the address is having value, the street name will be printed on the console, otherwise, no value will be printed.</p><h3 name="5684" id="5684" class="graf graf--h3 graf-after--p">Nil coalescing</h3><p name="d11c" id="d11c" class="graf graf--p graf-after--h3">Sometimes we need a default value for nil. Suppose you have created an integer as an optional type. When the value is nil then we want 0 to be used everywhere inside the app. Let’s see how to implement it</p><pre name="0940" id="0940" class="graf graf--pre graf-after--p">var creditScore: Int?<br>creditScore = nil<br>var message: String = &quot;Your Credit score is &quot;<br>message = message + &quot;\(creditScore ?? 0)&quot;<br>print(message)</pre><p name="0d22" id="0d22" class="graf graf--p graf-after--pre">what does <strong class="markup--strong markup--p-strong">?? </strong>do here? it actually checks if the creditScore value is nil, if so then use 0 as the value, otherwise use creditScore as the value.<br>Here instead of printing the credit score message as <strong class="markup--strong markup--p-strong">“Your Credit score is nil”, </strong>we are printing <strong class="markup--strong markup--p-strong">“Your Credit score is 0”. </strong>This is very handy when you are working with primitive types.</p><p name="decd" id="decd" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Note: Always try to avoid forced unwrapping. Either use ?? or optional binding where you are using it. This makes it safe from any unwanted crashes.</strong></p><h2 name="bbe6" id="bbe6" class="graf graf--h2 graf-after--p">Conclusion</h2><p name="d30c" id="d30c" class="graf graf--p graf-after--h2">So here we are, we learned the optionals from declaring it to using it with optional chaining. Optional binding, Optional Chaining and nil coalescing make it more beautiful and valuable to the programming.</p><h3 name="606c" id="606c" class="graf graf--h3 graf-after--p">References and useful sources</h3><p name="b362" id="b362" class="graf graf--p graf-after--h3 graf--trailing">Apple Developer Documentation:<a href="https://developer.apple.com/documentation" data-href="https://developer.apple.com/documentation" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"> https://developer.apple.com/documentation</a></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@iamankurjain" class="p-author h-card">Ankur JAIN</a> on <a href="https://medium.com/p/383593a1350a"><time class="dt-published" datetime="2018-08-16T10:47:10.592Z">August 16, 2018</time></a>.</p><p><a href="https://medium.com/@iamankurjain/swift-optional-types-complete-guide-383593a1350a" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on August 2, 2025.</p></footer></article></body></html>